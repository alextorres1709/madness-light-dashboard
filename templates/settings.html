{% extends "base.html" %}

{% block title %}Ajustes{% endblock %}
{% block header_title %}Ajustes{% endblock %}

{% block content %}
<div class="page-header">
    <div>
        <h1 class="page-title">Información de la Empresa</h1>
        <p class="page-subtitle">Edita los datos de Madness Light que el agente de IA usa para responder a los clientes
        </p>
    </div>
</div>

<form method="POST" action="{{ url_for('settings.update') }}">
    <div class="card">
        <h3 class="card-title">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18">
                <path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" />
                <polyline points="9 22 9 12 15 12 15 22" />
            </svg>
            Datos Generales
        </h3>
        <div class="form-grid">
            <div class="form-group">
                <label class="form-label">Nombre de la Empresa</label>
                <input type="text" name="name" class="form-input" value="{{ company.name }}">
            </div>
            <div class="form-group">
                <label class="form-label">Email</label>
                <input type="email" name="email" class="form-input" value="{{ company.email }}">
            </div>
            <div class="form-group">
                <label class="form-label">Teléfono</label>
                <input type="text" name="phone" class="form-input" value="{{ company.phone }}"
                    placeholder="+34 600 000 000">
            </div>
            <div class="form-group">
                <label class="form-label">Frecuencia de Fiestas</label>
                <input type="text" name="hours" class="form-input" value="{{ company.hours }}"
                    placeholder="Cada 1-2 semanas">
            </div>
            <div class="form-group full-width">
                <label class="form-label">Ubicación</label>
                <input type="text" name="address" class="form-input" value="{{ company.address }}">
            </div>
        </div>
    </div>

    <div class="card" style="margin-top: 24px">
        <h3 class="card-title">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18">
                <path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2v10z" />
            </svg>
            Información para el Agente de IA
        </h3>
        <p style="color:var(--text-secondary);font-size:14px;margin-bottom:16px">
            Esta información es la que el agente de IA usa para responder preguntas sobre Madness Light
        </p>
        <div class="form-grid">
            <div class="form-group full-width">
                <label class="form-label">Descripción de la empresa</label>
                <textarea name="description" class="form-input" rows="4"
                    placeholder="Descripción de Madness Light...">{{ company.description }}</textarea>
            </div>
            <div class="form-group full-width">
                <label class="form-label">Información adicional para el agente</label>
                <textarea name="extra_info" class="form-input" rows="8"
                    placeholder="Detalles sobre entradas, tipos de fiestas, salas, RRPP...">{{ company.extra_info }}</textarea>
                <small style="color:var(--text-secondary);margin-top:6px;display:block">
                    Aquí puedes poner toda la info extra que quieras que el bot tenga: cómo comprar entradas, tipos de
                    fiestas, programa RRPP, etc.
                </small>
            </div>
        </div>
    </div>

    <div style="display:flex;justify-content:flex-end;margin-top:24px">
        <button type="submit" class="btn btn-primary">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                <path d="M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z" />
                <polyline points="17 21 17 13 7 13 7 21" />
                <polyline points="7 3 7 8 15 8" />
            </svg>
            Guardar Cambios
        </button>
    </div>
</form>
{% endblock %}